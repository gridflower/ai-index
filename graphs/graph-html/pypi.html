<head>
  <!-- Plotly.js -->
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<style>
@font-face {
font-family: 'Calibre';
src: url('calibre-medium.ttf') format('truetype');
font-weight: bold;
font-style: normal;
}
@font-face {
font-family: 'Calibre';
src: url('calibre.ttf') format('truetype');
font-weight: normal;
font-style: normal;
}
body{margin: 0;}
</style>
</head>
<body>
<!-- Plotly chart will be drawn inside this DIV -->
<div id="myDiv" style="width: 100%; height: 500px;"></div>
<script>

function extendObject(obj1, obj2) {
    return Object.assign({}, obj1, obj2);
}

var scikit = {
  x: ["2016-02-01", "2016-03-01", "2016-04-01", "2016-05-01", "2016-06-01", "2016-07-01", "2016-08-01", "2016-09-01", "2016-10-01", "2016-11-01", "2016-12-01", "2017-01-01", "2017-02-01", "2017-03-01", "2017-04-01", "2017-05-01", "2017-06-01", "2017-07-01", "2017-08-01", "2017-09-01", "2017-10-01"],
  y: [419172, 93894, 0, 183841, 546872, 638163, 612230, 507076, 566938, 600994, 533454, 570379, 615819, 983014, 896725, 1043959, 1315461, 1407843, 1045824, 968943, 1075681],
  type: 'scatter',
  name: "scikit-learn",

  /* Connects points with a bolded line. */
  mode: 'lines',
  line: {
    color: '#9550d8',
    width: 3
  }
};

var tf = {
  x: ["2016-10-01", "2016-11-01", "2016-12-01", "2017-01-01", "2017-02-01", "2017-03-01", "2017-04-01", "2017-05-01", "2017-06-01", "2017-07-01", "2017-08-01", "2017-09-01", "2017-10-01"],
  y: [15490, 20758, 78798, 94883, 160541, 198686, 224206, 219474, 277925, 282966, 364452, 356011, 446560],
  type: 'scatter',
  name: "tensorflow",

  /* Connects points with a bolded line. */
  mode: 'lines',
  line: {
    color: '#e1c629',
    width: 3
  }
};

var keras = {
  x: ["2016-02-01", "2016-03-01", "2016-04-01", "2016-05-01", "2016-06-01", "2016-07-01", "2016-08-01", "2016-09-01", "2016-10-01", "2016-11-01", "2016-12-01", "2017-01-01", "2017-02-01", "2017-03-01", "2017-04-01", "2017-05-01", "2017-06-01", "2017-07-01", "2017-08-01", "2017-09-01", "2017-10-01"],
  y: [14084, 2801, 0, 7911, 32287, 33645, 37289, 40476, 46759, 64129, 68831, 84093, 92325, 134660, 188452, 169959, 263054, 310215, 339053, 207232, 302910],
  type: 'scatter',
  name: "keras",

  /* Connects points with a bolded line. */
  mode: 'lines',
  line: {
    color: '#d86f98',
    width: 3
  }
}

var mxnet = {
  x: ["2016-02-01", "2016-03-01", "2016-04-01", "2016-05-01", "2016-06-01", "2016-07-01", "2016-08-01", "2016-09-01", "2016-10-01", "2016-11-01", "2016-12-01", "2017-01-01", "2017-02-01", "2017-03-01", "2017-04-01", "2017-05-01", "2017-06-01", "2017-07-01", "2017-08-01", "2017-09-01", "2017-10-01"],
  y: [300, 53, 0, 179, 549, 844, 797, 1043, 880, 805, 880, 1761, 20815, 5937, 4504, 11419, 8354, 25063, 110138, 185237, 285265],
  type: 'scatter',
  name: "mxnet",

  /* Connects points with a bolded line. */
  mode: 'lines',
  line: {
    color: '#65c6f0',
    width: 3
  }
}

var theano = {
  x: ["2016-02-01", "2016-03-01", "2016-04-01", "2016-05-01", "2016-06-01", "2016-07-01", "2016-08-01", "2016-09-01", "2016-10-01", "2016-11-01", "2016-12-01", "2017-01-01", "2017-02-01", "2017-03-01", "2017-04-01", "2017-05-01", "2017-06-01", "2017-07-01", "2017-08-01", "2017-09-01", "2017-10-01"],
  y: [25222, 6099, 0, 18750, 61406, 60497, 61436, 64335, 75708, 93125, 80254, 100116, 113124, 156162, 222594, 206159, 301391, 346080, 348804, 137748, 161946],
  type: 'scatter',
  name: "theano",

  /* Connects points with a bolded line. */
  mode: 'lines',
  line: {
    color: '#72cc85',
    width: 3
  }
}

/* GRID SETTINGS */
var gridline_settings = {

    /* Control internals grid lines */
    showgrid: true,
    gridcolor: '#dcdddc',
    gridwidth: 2,

     /* Controls border around the graph */
    showline: true,
    mirror: true,
    linecolor: '#dcdddc',
    linewidth: 2,

    zeroline: true,
    zerolinecolor: '#dcdddc',
    zerolinewidth: 2,
};
var data = [scikit, tf, keras, mxnet, theano];
var layout = {
  width: 500,
  height: 350,

  /* GRAPH BACKGROUND COLOR */
  plot_bgcolor: 'rgb(255,255,255)',
  /* BCAKGROUND COLOR FOR IMAGE */
  paper_bgcolor: "rgb(248, 248, 248)",

  font: {
      family: 'Calibre',
      color: '#444444'
  },

  /* TITLE */
  title: "<b>Monthly AI Software Downloads through PyPi</b>",
  titlefont: {
    size: 20,
  },

  /* xaxis */ 
  xaxis: extendObject({
    title: '<b>Date</b>',
    titlefont: {
      size: 18,
    },
    range: ["2016-01-01", "2018-01-01"],
    // tickvals: ["2016-01-01", "2016-07-01", "2017-01-01", "2017-07-01", "2018-01-01"],
    // ticktext: ["Jan<br>2016", "July<br>2016", "Jan<br>2017", "July<br>2017", "Jan<br>2018"]

    tickvals: ["2016-01-01", "2016-07-01", "2017-01-01", "2017-07-01", "2018-01-01"],
    ticktext: ["2016", "", "2017", "", "2018"]
  }, gridline_settings),

  /* yaxis */ 
  yaxis: extendObject({
    title: '<b>Downloads</b>',
    range: [-80000, 1500000],
    titlefont: {
      size: 18,
    },

    ticks: 'outside',
    ticklen: 8,
    tickwidth: 2,
    tickcolor: '#dcdddc',
  },gridline_settings),
}

Plotly.newPlot('myDiv', data, layout);

/* Adjust X Axis */
item = document.getElementsByClassName("xtitle")[0];
item.style.transform = "translate(0px,-10px)";

/* Adjust Y Axis Title*/
item = document.getElementsByClassName("ytitle")[0]
item.style.transform = "rotate(-90deg) translate(-220px, -160px)"
</script>
</body>